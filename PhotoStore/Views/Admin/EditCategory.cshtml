@model PhotoStore.Models.CategoryViewModel

@{
   ViewBag.Title = "Admin: Редактирование " + @Model.CategoryName;
   Layout = "~/Views/Shared/_AdminLayout.cshtml";
}


<ul class="breadcrumb">
    @{
        <li><a href="@Url.Action("Index", "Admin")">Главная</a> <span class="divider">/</span></li>
        <li class=""><a href="@Url.Action("Categories", "Admin")">Категории</a> <span class="divider">/</span></li>
        <li class="active"><a href="@Url.Action("EditCategory", "Admin", new {categoryId = @Model.CategoryID})">@{
                                                                                                                  if(Model.CategoryName == null) 
                                                                                                                  { <b>Новая категория</b>} 
                                                                                                                  else {<b>Редактировать категорию "@Model.CategoryName"</b>}
                                                                                                              } </a> <span class="divider">/</span></li>
    }
</ul>


@{
    bool readonl = User.IsInRole("SEO") || User.IsInRole("admin");
}

<style>
    form {
        border: none;
    }
</style>
@*
 <div class="form-group" style="padding: 0">
            <div class="col-lg-2 col-md-2"> @Html.Label("Надкатегория")</div>    
            <div class="col-lg-8 col-md-8"> @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })</div>    
            <input type="submit" value="Сохранить" class="col-lg-2 col-md-2 btn btn-info" />
        </div>
*@

<h2>Редактировать @Model.CategoryName</h2>

@using (Html.BeginForm("EditCategory", "Admin"))
{
   @* <!--<div class="editor-label"> @Html.Label("ID")</div>    -->*@
    <div class="editor-field"> @Html.HiddenFor(model => model.CategoryID)</div>    
    <div class="editor-field"> @Html.HiddenFor(model => model.ShortName)</div>   
    <div class="editor-field"> @Html.HiddenFor(model => model.Sequence)</div>   
    
    <div style="padding: 0" class="col-lg-12 col-md-12"> 
    <div class="form-group" style="padding: 0">
        <div class="col-lg-2"> @Html.Label("Категория")</div>    
        <div class="col-lg-10"> @Html.TextBoxFor(model => model.CategoryName, new { @class = "form-control" })</div>    
    </div>
    </div>    
        <div style="padding: 0" class="col-lg-12 col-md-12"> 
        <div class="form-group" style="padding: 0; padding-top: 10px;">
           <div class="col-lg-2">@Html.Label("Дата создания")</div>
            <div class="col-lg-4">@Html.TextBoxFor(model => model.CreateDate, new { disabled = "disabled", @class = "form-control" })</div>
            <div class="col-lg-2" style="text-align: right">@Html.Label("Дата изменения")</div>
            <div class="col-lg-4">@Html.TextBoxFor(model => model.UpdateDate, new { disabled = "disabled", @class = "form-control" })</div>
        </div>
        </div>

           
        <div style="padding: 0" class="col-lg-12 col-md-12"> 
            <div class="form-group" style="padding: 0; padding-top: 10px;">
                <div class="col-lg-2 col-md-2">@Html.Label("Метатеги")</div>
                <div class="col-lg-10 col-md-10 multi-line">  @Html.TextAreaFor(model => model.KeyWords, new { @class = "form-control" })</div>
            </div>
        </div>

        <div style="padding: 0" class="col-lg-12 col-md-12"> 
            <div class="form-group" style="padding: 0; padding-top: 10px;">
                <div class="col-lg-2 col-md-2">@Html.Label("Сниппет")</div>
                <div class="col-lg-10 col-md-10 multi-line" >  @Html.TextAreaFor(model => model.Snippet, new { @class = "form-control" })</div>
            </div>
        </div>
           

    <div style="padding: 0" class="col-lg-12 col-md-12"> 
        <div class="form-group" style="padding: 0; padding-top: 10px;">
            <div class="col-lg-2 col-md-2">@Html.Label("Описание")</div>
            <div class="col-lg-10 col-md-10 multi-line">  @Html.TextAreaFor(model => model.Description, new { @class = "form-control" })</div>
        </div>
    </div>
    
    
        <div style="padding: 0 0 10px 0;" class="col-lg-12 col-md-12"> 
        <div class="form-group" style="padding: 0; padding-top: 10px;">
               @{
            if (readonl)
            {
                <div class="col-lg-2">@Html.Label("Отображать?")</div>    
                <div class="col-lg-1" style="text-align: right" > @Html.CheckBoxFor(model => model.IsActive, new { @*@readonly = "readonly",*@ @class = "form-control"  })</div>  
                    
            }
            else
            {
                    <div class="col-lg-2" style="text-align: right" readonly = "readonly"> @Html.CheckBoxFor(model => model.IsActive, @readonl ? (object)new { @readonly = "readonly" } : null)</div>  
        <div class="col-lg-1 ">@Html.Label("Категория числится отображаемой")</div> 
            }
               }
               
                <div class="col-lg-2 col-lg-offset-7">
            <input type="submit" value="Сохранить" class="btn-warning btn col-lg-12" style="float: right;"/>
        </div></div>
        </div>    
    
    
}
@*@{
    if (readonl != true)
    {
    <br/>
    }
}*@

@*<link href="@Url.Content("~/Content/jquery.cleditor.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery.cleditor.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    $("#Description").cleditor();
</script>*@





<script>
    var p = $("#menu li a[href='/Admin/Categories']");
    p.parent().addClass("selected");
</script>